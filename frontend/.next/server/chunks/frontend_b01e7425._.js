module.exports=[21695,e=>{"use strict";let r=process.env.SNAPSHOT_URL,t=process.env.SNAPSHOT_GCS_BUCKET,n=process.env.SNAPSHOT_GCS_OBJECT??"snapshot.json",a=process.env.GCP_SERVICE_ACCOUNT_KEY;async function i(){let r;if(!t)throw Error("Missing env var: SNAPSHOT_GCS_BUCKET");if(!a)throw Error("Missing env var: GCP_SERVICE_ACCOUNT_KEY");try{r=JSON.parse(a)}catch{throw Error("Invalid JSON in env var: GCP_SERVICE_ACCOUNT_KEY")}let{Storage:i}=await e.A(4374),s=new i({projectId:r.project_id,credentials:{client_email:r.client_email,private_key:r.private_key}}),[o]=await s.bucket(t).file(n).download();return JSON.parse(o.toString("utf-8"))}async function s(e){if(!r)return await i();let t=e?.revalidate??3600,n=e?.cache,a=await fetch(r,{...n?{cache:n}:{next:{revalidate:t}},headers:{accept:"application/json"}});if(!a.ok)throw Error(`SNAPSHOT_URL fetch failed: ${a.status} ${a.statusText}`);return await a.json()}function o(e){return"string"==typeof e?e:null==e?"":String(e)}function c(e){if("number"==typeof e)return Number.isFinite(e)?e:0;let r=Number(o(e).replace(/[Â¥,%\s]/g,"").replace(/,/g,""));return Number.isFinite(r)?r:0}function l(e){if(Array.isArray(e))return e.map(e=>o(e)).filter(Boolean);if("string"!=typeof e)return[];try{let r=JSON.parse(e);return Array.isArray(r)?r.map(e=>o(e)).filter(Boolean):[]}catch{return[]}}function u(e){let r={};for(let t of e){let e=o(t.key).trim();e&&(r[e]=t.value)}return r}e.s(["asNumber",()=>c,"asString",()=>o,"fetchSnapshot",()=>s,"safeJsonArray",()=>l,"settingsToMap",()=>u])},4374,e=>{e.v(r=>Promise.all(["server/chunks/[root-of-the-server]__db7bc6fa._.js","server/chunks/[root-of-the-server]__35b1d55d._.js"].map(r=>e.l(r))).then(()=>r(40646)))}];

//# sourceMappingURL=frontend_b01e7425._.js.map