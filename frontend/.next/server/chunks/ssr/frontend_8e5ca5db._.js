module.exports=[57850,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].ReactJsxRuntime},54502,a=>{"use strict";var b=a.i(57850),c=a.i(45056);function d(){let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)(!0),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{f(!0),h(null);let a=await fetch("/api/products");if(!a.ok)throw Error(`${a.status} ${a.statusText}`);let b=await a.json();d(b.products??[])}catch(a){h(a instanceof Error?a.message:"unknown error")}finally{f(!1)}})()},[]);let k=(0,c.useMemo)(()=>i?"商品詳細":"商品一覧",[i]);return(0,b.jsxs)("div",{className:"min-h-screen",children:[(0,b.jsx)("header",{className:"border-b",children:(0,b.jsxs)("div",{className:"mx-auto max-w-6xl px-4 py-4",children:[(0,b.jsx)("h1",{className:"text-xl font-bold",children:"楽天市場 商品可視化ダッシュボード"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:k})]})}),(0,b.jsxs)("main",{className:"mx-auto max-w-6xl px-4 py-6",children:[e&&(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"読み込み中..."}),g&&(0,b.jsxs)("div",{className:"text-sm text-red-600",children:["エラー: ",g]}),!e&&!g&&!i&&(0,b.jsx)("div",{className:"overflow-x-auto rounded border",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"商品管理番号"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"代表SKU"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"評価"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"商品名"}),(0,b.jsx)("th",{className:"px-3 py-2 text-right",children:"在庫"}),(0,b.jsx)("th",{className:"px-3 py-2 text-right",children:"今月売上個数"}),(0,b.jsx)("th",{className:"px-3 py-2 text-right",children:"今月アクセス"}),(0,b.jsx)("th",{className:"px-3 py-2 text-right",children:"今月CV"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"バッジ"})]})}),(0,b.jsx)("tbody",{children:a.map(a=>(0,b.jsxs)("tr",{className:"border-t hover:bg-gray-50 cursor-pointer",onClick:()=>j(a),children:[(0,b.jsx)("td",{className:"px-3 py-2 font-mono",children:a.product_code}),(0,b.jsx)("td",{className:"px-3 py-2 font-mono text-gray-600",children:a.representative_sku}),(0,b.jsx)("td",{className:"px-3 py-2",children:a.rating??""}),(0,b.jsx)("td",{className:"px-3 py-2 max-w-[420px] truncate",children:a.product_name}),(0,b.jsx)("td",{className:"px-3 py-2 text-right",children:a.stock_sum.toLocaleString()}),(0,b.jsx)("td",{className:"px-3 py-2 text-right",children:a.sales_units_m.toLocaleString()}),(0,b.jsx)("td",{className:"px-3 py-2 text-right",children:a.access_m.toLocaleString()}),(0,b.jsxs)("td",{className:"px-3 py-2 text-right",children:[a.cv_m.toFixed(2),"%"]}),(0,b.jsx)("td",{className:"px-3 py-2",children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[a.badges.slice(0,3).map((a,c)=>(0,b.jsx)("span",{className:"rounded border px-2 py-0.5 text-xs",children:a},c)),a.badges.length>3&&(0,b.jsxs)("span",{className:"rounded border px-2 py-0.5 text-xs",children:["+",a.badges.length-3]})]})})]},a.product_code))})]})}),!e&&!g&&i&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("button",{className:"rounded border px-3 py-2 text-sm",onClick:()=>j(null),children:"戻る"}),(0,b.jsxs)("div",{className:"rounded border p-4",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:["商品管理番号: ",(0,b.jsx)("span",{className:"font-mono",children:i.product_code})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["代表SKU: ",(0,b.jsx)("span",{className:"font-mono",children:i.representative_sku})]}),(0,b.jsx)("h2",{className:"mt-3 text-lg font-bold",children:i.product_name}),(0,b.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2 text-sm",children:[(0,b.jsxs)("div",{className:"rounded border px-3 py-2",children:["在庫: ",i.stock_sum]}),(0,b.jsxs)("div",{className:"rounded border px-3 py-2",children:["今月売上: ",i.sales_units_m]}),(0,b.jsxs)("div",{className:"rounded border px-3 py-2",children:["今月アクセス: ",i.access_m]}),(0,b.jsxs)("div",{className:"rounded border px-3 py-2",children:["今月CV: ",i.cv_m.toFixed(2),"%"]})]})]})]})]})]})}a.s(["default",()=>d])}];

//# sourceMappingURL=frontend_8e5ca5db._.js.map