{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../app/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","\"use client\"\n\nimport { useEffect, useMemo, useState } from \"react\"\nimport type { ProductSummary } from \"@/types/product\"\n\nexport default function Page() {\n  const [products, setProducts] = useState<ProductSummary[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [selected, setSelected] = useState<ProductSummary | null>(null)\n\n  useEffect(() => {\n    const run = async () => {\n      try {\n        setLoading(true)\n        setError(null)\n        const res = await fetch(\"/api/products\")\n        if (!res.ok) throw new Error(`${res.status} ${res.statusText}`)\n        const data = (await res.json()) as { products: ProductSummary[] }\n        setProducts(data.products ?? [])\n      } catch (e) {\n        setError(e instanceof Error ? e.message : \"unknown error\")\n      } finally {\n        setLoading(false)\n      }\n    }\n    run()\n  }, [])\n\n  const title = useMemo(() => (selected ? \"商品詳細\" : \"商品一覧\"), [selected])\n\n  return (\n    <div className=\"min-h-screen\">\n      <header className=\"border-b\">\n        <div className=\"mx-auto max-w-6xl px-4 py-4\">\n          <h1 className=\"text-xl font-bold\">楽天市場 商品可視化ダッシュボード</h1>\n          <p className=\"text-sm text-gray-600\">{title}</p>\n        </div>\n      </header>\n\n      <main className=\"mx-auto max-w-6xl px-4 py-6\">\n        {loading && <div className=\"text-sm text-gray-600\">読み込み中...</div>}\n        {error && <div className=\"text-sm text-red-600\">エラー: {error}</div>}\n\n        {!loading && !error && !selected && (\n          <div className=\"overflow-x-auto rounded border\">\n            <table className=\"w-full text-sm\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-3 py-2 text-left\">商品管理番号</th>\n                  <th className=\"px-3 py-2 text-left\">代表SKU</th>\n                  <th className=\"px-3 py-2 text-left\">評価</th>\n                  <th className=\"px-3 py-2 text-left\">商品名</th>\n                  <th className=\"px-3 py-2 text-right\">在庫</th>\n                  <th className=\"px-3 py-2 text-right\">今月売上個数</th>\n                  <th className=\"px-3 py-2 text-right\">今月アクセス</th>\n                  <th className=\"px-3 py-2 text-right\">今月CV</th>\n                  <th className=\"px-3 py-2 text-left\">バッジ</th>\n                </tr>\n              </thead>\n              <tbody>\n                {products.map((p) => (\n                  <tr\n                    key={p.product_code}\n                    className=\"border-t hover:bg-gray-50 cursor-pointer\"\n                    onClick={() => setSelected(p)}\n                  >\n                    <td className=\"px-3 py-2 font-mono\">{p.product_code}</td>\n                    <td className=\"px-3 py-2 font-mono text-gray-600\">{p.representative_sku}</td>\n                    <td className=\"px-3 py-2\">{p.rating ?? \"\"}</td>\n                    <td className=\"px-3 py-2 max-w-[420px] truncate\">{p.product_name}</td>\n                    <td className=\"px-3 py-2 text-right\">{p.stock_sum.toLocaleString()}</td>\n                    <td className=\"px-3 py-2 text-right\">{p.sales_units_m.toLocaleString()}</td>\n                    <td className=\"px-3 py-2 text-right\">{p.access_m.toLocaleString()}</td>\n                    <td className=\"px-3 py-2 text-right\">{p.cv_m.toFixed(2)}%</td>\n                    <td className=\"px-3 py-2\">\n                      <div className=\"flex flex-wrap gap-1\">\n                        {p.badges.slice(0, 3).map((b, i) => (\n                          <span key={i} className=\"rounded border px-2 py-0.5 text-xs\">\n                            {b}\n                          </span>\n                        ))}\n                        {p.badges.length > 3 && (\n                          <span className=\"rounded border px-2 py-0.5 text-xs\">+{p.badges.length - 3}</span>\n                        )}\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n\n        {!loading && !error && selected && (\n          <div className=\"space-y-4\">\n            <button className=\"rounded border px-3 py-2 text-sm\" onClick={() => setSelected(null)}>\n              戻る\n            </button>\n            <div className=\"rounded border p-4\">\n              <div className=\"text-sm text-gray-600\">商品管理番号: <span className=\"font-mono\">{selected.product_code}</span></div>\n              <div className=\"text-sm text-gray-600 mt-1\">代表SKU: <span className=\"font-mono\">{selected.representative_sku}</span></div>\n              <h2 className=\"mt-3 text-lg font-bold\">{selected.product_name}</h2>\n              <div className=\"mt-3 flex flex-wrap gap-2 text-sm\">\n                <div className=\"rounded border px-3 py-2\">在庫: {selected.stock_sum}</div>\n                <div className=\"rounded border px-3 py-2\">今月売上: {selected.sales_units_m}</div>\n                <div className=\"rounded border px-3 py-2\">今月アクセス: {selected.access_m}</div>\n                <div className=\"rounded border px-3 py-2\">今月CV: {selected.cv_m.toFixed(2)}%</div>\n              </div>\n            </div>\n          </div>\n        )}\n      </main>\n    </div>\n  )\n}\n\n"],"names":["module","exports","require","vendored","ReactJsxRuntime"],"mappings":"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","ignoreList":[0]}